(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[613],{2120:function(e,a,s){(window.__NEXT_P=window.__NEXT_P||[]).push(["/auth/signup",function(){return s(184)}])},184:function(e,a,s){"use strict";s.r(a),s.d(a,{default:function(){return d}});var l=s(5893),n=s(7294),r=s(1163),t=s(8495),i=s(1664),u=s.n(i);function d(){const e=(0,r.useRouter)(),[a,s]=(0,n.useState)(!1),[i,d]=(0,n.useState)(""),[o,c]=(0,n.useState)(""),[m,b]=(0,n.useState)(""),[p,h]=(0,n.useState)(""),[x,f]=(0,n.useState)(""),[v,g]=(0,n.useState)(0),[N,w]=(0,n.useState)(null);return(0,l.jsxs)("div",{className:"max-w-md mx-auto mt-10 p-6 bg-white rounded-lg shadow-md",children:[(0,l.jsx)("h1",{className:"text-2xl font-bold mb-6",children:"Sign Up"}),N&&(0,l.jsx)("div",{className:"bg-red-100 text-red-700 p-3 rounded mb-4",children:N}),(0,l.jsxs)("form",{onSubmit:async a=>{if(a.preventDefault(),w(null),s(!0),parseInt(p)<1||parseInt(p)>700)return w("Employee ID must be between 1 and 700"),void s(!1);try{const{data:a}=await t.O.from("employees").select("employee_id").eq("employee_id",parseInt(p)).single();if(a)return w("Employee ID already exists"),void s(!1);const{data:l,error:n}=await t.O.auth.signUp({email:i,password:o});if(n)throw n;if(null===l||void 0===l?void 0:l.user){const{error:a}=await t.O.from("employees").insert({id:l.user.id,employee_id:parseInt(p),name:m,email:i,position:x,years_of_service:v});if(a)throw a;alert("Sign up successful! Check your email for verification link."),e.push("/auth/login")}}catch(N){w(N.message)}finally{s(!1)}},children:[(0,l.jsxs)("div",{className:"mb-4",children:[(0,l.jsx)("label",{className:"block mb-2",children:"Full Name"}),(0,l.jsx)("input",{type:"text",value:m,onChange:e=>b(e.target.value),required:!0,className:"w-full p-2 border rounded"})]}),(0,l.jsxs)("div",{className:"mb-4",children:[(0,l.jsx)("label",{className:"block mb-2",children:"Employee ID (1-700)"}),(0,l.jsx)("input",{type:"number",value:p,onChange:e=>h(e.target.value),required:!0,min:"1",max:"700",className:"w-full p-2 border rounded"})]}),(0,l.jsxs)("div",{className:"mb-4",children:[(0,l.jsx)("label",{className:"block mb-2",children:"Position"}),(0,l.jsx)("input",{type:"text",value:x,onChange:e=>f(e.target.value),required:!0,className:"w-full p-2 border rounded"})]}),(0,l.jsxs)("div",{className:"mb-4",children:[(0,l.jsx)("label",{className:"block mb-2",children:"Years in Social Insurance"}),(0,l.jsx)("input",{type:"number",value:v,onChange:e=>g(parseInt(e.target.value)),min:"0",required:!0,className:"w-full p-2 border rounded"})]}),(0,l.jsxs)("div",{className:"mb-4",children:[(0,l.jsx)("label",{className:"block mb-2",children:"Email"}),(0,l.jsx)("input",{type:"email",value:i,onChange:e=>d(e.target.value),required:!0,className:"w-full p-2 border rounded"})]}),(0,l.jsxs)("div",{className:"mb-6",children:[(0,l.jsx)("label",{className:"block mb-2",children:"Password"}),(0,l.jsx)("input",{type:"password",value:o,onChange:e=>c(e.target.value),required:!0,className:"w-full p-2 border rounded"})]}),(0,l.jsx)("button",{type:"submit",disabled:a,className:"w-full bg-blue-600 text-white p-2 rounded hover:bg-blue-700 disabled:bg-blue-300",children:a?"Signing up...":"Sign Up"})]}),(0,l.jsxs)("p",{className:"mt-4 text-center",children:["Already have an account?"," ",(0,l.jsx)(u(),{href:"/auth/login",className:"text-blue-600 hover:underline",children:"Log In"})]})]})}}},function(e){e.O(0,[664,774,888,179],(function(){return a=2120,e(e.s=a);var a}));var a=e.O();_N_E=a}]);